# 5.3. Identity Columns

An identity column automatically generates values from an implicit sequence, useful for creating key values.

## Creating Identity Columns

Two approaches exist for defining identity columns:

**GENERATED ALWAYS AS IDENTITY:**
```sql
CREATE TABLE people (
    id bigint GENERATED ALWAYS AS IDENTITY,
    ...
);
```

**GENERATED BY DEFAULT AS IDENTITY:**
```sql
CREATE TABLE people (
    id bigint GENERATED BY DEFAULT AS IDENTITY,
    ...
);
```

## Inserting Data

When inserting without specifying an identity column value, the sequence automatically provides one:

```sql
INSERT INTO people (name, address) VALUES ('A', 'foo');
INSERT INTO people (name, address) VALUES ('B', 'bar');
```

This produces:
| id | name | address |
|----|------|---------|
| 1  | A    | foo     |
| 2  | B    | bar     |

You can explicitly request a sequence-generated value using the `DEFAULT` keyword in INSERT and UPDATE operations.

## ALWAYS vs BY DEFAULT

- **ALWAYS:** Rejects user-specified values unless the statement includes `OVERRIDING SYSTEM VALUE`, providing protection against accidental explicit values
- **BY DEFAULT:** Allows user-specified values to take precedence, behaving similarly to default values

## Key Characteristics

- Must use data types supported by sequences
- Automatically marked as `NOT NULL`
- Does not guarantee uniquenessâ€”use `PRIMARY KEY` or `UNIQUE` constraints for that
- In table inheritance, child tables have independent identity columns from parents
- Partitions inherit identity columns from partitioned tables but cannot define their own
