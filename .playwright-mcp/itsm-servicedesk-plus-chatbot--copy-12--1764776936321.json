{"version":"1.0","exportedAt":"2025-12-03T15:48:56.273Z","chatbot":{"name":"ITSM ServiceDesk Plus Chatbot (Copy 12)","description":"IT support chatbot with ManageEngine ServiceDesk Plus integration. Request creation, tracking and service catalog features. Auto token refresh enabled.","nodes":[{"id":"start-1","data":{"type":"start","label":"Start"},"type":"start","position":{"x":50,"y":300}},{"id":"refresh-token","data":{"type":"rest_api","label":"Refresh Token","apiUrl":"https://accounts.zoho.com/oauth/v2/token","apiBody":"grant_type=refresh_token&client_id=1000.W2OEHZLSSSBQPAPZLC38C59NZ1GVDT&client_secret=08e0d4ca30c469ba6523e67ce43ed21a63b97c1b31&refresh_token=1000.097dc84560ed9a643f0e4d0043bd9752.e40e3e092fc5fb4a8c3aff9209b40023","apiMethod":"POST","apiHeaders":{"Content-Type":"application/x-www-form-urlencoded"},"apiTimeout":10000,"apiResponsePath":"access_token","apiErrorVariable":"token_error","apiOutputVariable":"zoho_token_data"},"type":"rest_api","position":{"x":200,"y":300}},{"id":"fetch-requester","data":{"type":"rest_api","label":"Find User","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/requesters","apiMethod":"GET","apiHeaders":{"Content-Type":"application/json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiFilterField":"mobile","apiFilterValue":"{{customer_phone}}","apiResponsePath":"requesters","apiErrorVariable":"requester_error","apiOutputVariable":"requester_data"},"type":"rest_api","position":{"x":400,"y":300}},{"id":"welcome-msg","data":{"type":"message","label":"Welcome","content":"üé´ *IT Help Desk*\n\nHello! I'm your IT Support assistant. How can I help you today?"},"type":"message","position":{"x":600,"y":300}},{"id":"main-menu","data":{"type":"question","label":"Main Menu","buttons":[{"id":"btn_new","title":"üÜï New Request"},{"id":"btn_list","title":"üìã My Requests"},{"id":"btn_catalog","title":"üìÅ Service Catalog"}],"content":"Please select what you would like to do:","variable":"menu_selection","questionType":"buttons"},"type":"question","position":{"x":850,"y":300}},{"id":"fetch-categories","data":{"type":"rest_api","label":"Fetch Categories","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/service_categories","apiMethod":"GET","apiHeaders":{"Content-Type":"application/json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiResponsePath":"service_categories","apiErrorVariable":"api_error","apiOutputVariable":"categories"},"type":"rest_api","position":{"x":1100,"y":100}},{"id":"select-category","data":{"type":"question","label":"Select Category","content":"What category is your request related to?","variable":"selected_category","questionType":"list","listButtonText":"Categories","dynamicDescField":"description","dynamicLabelField":"name","dynamicListSource":"categories"},"type":"question","position":{"x":1400,"y":100}},{"id":"ask-subject","data":{"type":"question","label":"Ask Subject","content":"Please briefly describe the subject of your request:","variable":"ticket_subject","questionType":"text"},"type":"question","position":{"x":1700,"y":100}},{"id":"ask-description","data":{"type":"question","label":"Ask Description","content":"Please describe your issue in detail:","variable":"ticket_description","questionType":"text"},"type":"question","position":{"x":1950,"y":100}},{"id":"ask-priority","data":{"type":"question","label":"Select Priority","buttons":[{"id":"btn_low","title":"üü¢ Low"},{"id":"btn_medium","title":"üü° Medium"},{"id":"btn_high","title":"üî¥ High"}],"content":"Please select the priority of your request:","variable":"ticket_priority","questionType":"buttons"},"type":"question","position":{"x":2200,"y":100}},{"id":"create-ticket","data":{"type":"rest_api","label":"Create Request","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/requests","apiBody":"{\"input_data\":\"{\\\"request\\\":{\\\"subject\\\":\\\"{{ticket_subject}}\\\",\\\"description\\\":\\\"{{ticket_description}}\\\",\\\"requester\\\":{\\\"id\\\":\\\"{{requester_data[0].id}}\\\"}}}\"}","apiMethod":"POST","apiHeaders":{"Accept":"application/vnd.manageengine.sdp.v3+json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiContentType":"application/x-www-form-urlencoded","apiResponsePath":"request","apiErrorVariable":"ticket_error","apiOutputVariable":"ticket_result"},"type":"rest_api","position":{"x":2450,"y":100}},{"id":"ticket-success","data":{"type":"message","label":"Request Success","content":"‚úÖ *Your Request Has Been Created!*\n\nüé´ Request ID: #{{ticket_result.display_id}}\nüìù Subject: {{ticket_subject}}\nüìÅ Category: {{selected_category}}\n\nYour request has been submitted to our IT team. We will get back to you shortly."},"type":"message","position":{"x":2750,"y":50}},{"id":"ticket-error","data":{"type":"message","label":"Request Error","content":"‚ùå *Request Could Not Be Created*\n\nAn error occurred: {{ticket_error}}\n\nPlease try again later or contact the IT team."},"type":"message","position":{"x":2750,"y":200}},{"id":"fetch-requests","data":{"type":"rest_api","label":"Fetch Requests","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/requests?input_data={\"list_info\":{\"row_count\":10,\"search_criteria\":{\"field\":\"requester.id\",\"condition\":\"is\",\"value\":\"{{requester_data[0].id}}\"}}}","apiMethod":"GET","apiHeaders":{"Content-Type":"application/json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiResponsePath":"requests","apiErrorVariable":"requests_error","apiOutputVariable":"my_requests"},"type":"rest_api","position":{"x":1100,"y":300}},{"id":"show-requests","data":{"type":"message","label":"Show Requests","content":"üìã *Your Recent Requests*\n\nYour last 10 requests have been loaded. Visit the ServiceDesk portal for details.\n\n_Your total active request count is displayed in the system._"},"type":"message","position":{"x":1400,"y":300}},{"id":"requests-error","data":{"type":"message","label":"Requests Error","content":"‚ùå *Could Not Fetch Requests*\n\nError: {{requests_error}}\n\nPlease try again later."},"type":"message","position":{"x":1400,"y":450}},{"id":"fetch-catalog-categories","data":{"type":"rest_api","label":"Catalog Categories","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/service_categories","apiMethod":"GET","apiHeaders":{"Content-Type":"application/json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiResponsePath":"service_categories","apiErrorVariable":"catalog_error","apiOutputVariable":"catalog_categories"},"type":"rest_api","position":{"x":1100,"y":550}},{"id":"select-catalog-category","data":{"type":"question","label":"Select Catalog Category","content":"üìÅ *Service Catalog*\n\nSelect a category to view related service templates:","variable":"catalog_selected_category","questionType":"list","listButtonText":"Categories","dynamicDescField":"description","dynamicLabelField":"name","dynamicListSource":"catalog_categories"},"type":"question","position":{"x":1400,"y":550}},{"id":"fetch-templates","data":{"type":"rest_api","label":"Fetch Templates","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/service_categories/{{catalog_selected_category}}/request_templates","apiMethod":"GET","apiHeaders":{"Content-Type":"application/json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiResponsePath":"request_templates","apiErrorVariable":"template_error","apiOutputVariable":"templates"},"type":"rest_api","position":{"x":1700,"y":550}},{"id":"select-template","data":{"type":"question","label":"Select Template","content":"üìã *Service Templates*\n\nSelect one of the templates in this category:","variable":"selected_template","questionType":"list","listButtonText":"Templates","dynamicDescField":"description","dynamicLabelField":"name","dynamicListSource":"templates"},"type":"question","position":{"x":2000,"y":550}},{"id":"ask-create-from-template","data":{"type":"question","label":"Create Request?","buttons":[{"id":"btn_create_yes","title":"‚úÖ Yes, Create"},{"id":"btn_create_no","title":"‚ùå No"}],"content":"üìù *Template Selected*\n\nWould you like to create a request using this template?","variable":"create_from_template","questionType":"buttons"},"type":"question","position":{"x":2300,"y":550}},{"id":"ask-catalog-subject","data":{"type":"question","label":"Catalog Subject","content":"Please briefly describe the subject of your request:","variable":"catalog_ticket_subject","questionType":"text"},"type":"question","position":{"x":2600,"y":450}},{"id":"ask-catalog-description","data":{"type":"question","label":"Catalog Description","content":"Please describe your issue in detail:","variable":"catalog_ticket_description","questionType":"text"},"type":"question","position":{"x":2900,"y":450}},{"id":"create-catalog-ticket","data":{"type":"rest_api","label":"Create Catalog Request","apiUrl":"https://sdpondemand.manageengine.com/app/itdesk/api/v3/requests","apiBody":"{\"input_data\":\"{\\\"request\\\":{\\\"subject\\\":\\\"{{catalog_ticket_subject}}\\\",\\\"description\\\":\\\"{{catalog_ticket_description}}\\\",\\\"template\\\":{\\\"id\\\":\\\"{{selected_template}}\\\"},\\\"requester\\\":{\\\"id\\\":\\\"{{requester_data[0].id}}\\\"}}}\"}","apiMethod":"POST","apiHeaders":{"Accept":"application/vnd.manageengine.sdp.v3+json","Authorization":"Zoho-oauthtoken {{zoho_token_data}}"},"apiTimeout":30000,"apiContentType":"application/x-www-form-urlencoded","apiResponsePath":"request","apiErrorVariable":"catalog_ticket_error","apiOutputVariable":"catalog_ticket_result"},"type":"rest_api","position":{"x":3200,"y":450}},{"id":"catalog-ticket-success","data":{"type":"message","label":"Catalog Request Success","content":"‚úÖ *Your Request Has Been Created!*\n\nüé´ Request ID: #{{catalog_ticket_result.display_id}}\nüìù Subject: {{catalog_ticket_subject}}\nüìÅ Category ID: {{catalog_selected_category}}\nüìã Template ID: {{selected_template}}\n\nYour request has been submitted to our IT team. We will get back to you shortly."},"type":"message","position":{"x":3500,"y":400}},{"id":"catalog-ticket-error","data":{"type":"message","label":"Catalog Request Error","content":"‚ùå *Request Could Not Be Created*\n\nAn error occurred: {{catalog_ticket_error}}\n\nPlease try again later or contact the IT team."},"type":"message","position":{"x":3500,"y":550}},{"id":"template-error","data":{"type":"message","label":"Template Error","content":"‚ùå *Templates Could Not Be Loaded*\n\nNo templates found for this category or an error occurred.\n\nError: {{template_error}}"},"type":"message","position":{"x":2000,"y":700}},{"id":"catalog-error","data":{"type":"message","label":"Catalog Error","content":"‚ùå *Catalog Could Not Be Loaded*\n\nError: {{catalog_error}}"},"type":"message","position":{"x":1400,"y":700}},{"id":"ask-continue","data":{"type":"question","label":"Continue","buttons":[{"id":"btn_yes","title":"‚úÖ Yes"},{"id":"btn_no","title":"‚ùå No"}],"content":"Would you like to do anything else?","variable":"continue_choice","questionType":"buttons"},"type":"question","position":{"x":3800,"y":500}},{"id":"goodbye-msg","data":{"type":"message","label":"Goodbye","content":"üëã *Thank You!*\n\nThank you for using the IT Help Desk.\n\nIf you need help again, just message us!\n\nüìß it-support@company.com\nüìû Ext: 1234"},"type":"message","position":{"x":4100,"y":550}},{"id":"api-general-error","data":{"type":"message","label":"API Error","content":"‚ö†Ô∏è *Connection Error*\n\nA problem occurred while connecting to the service desk. Please try again later.\n\nError: {{api_error}}"},"type":"message","position":{"x":1100,"y":800}},{"id":"requester-error","data":{"type":"message","label":"User Not Found","content":"‚ö†Ô∏è *User Not Found*\n\nYour phone number is not registered in the system.\n\nPlease contact the IT team:\nüìß it-support@company.com\nüìû Ext: 1234"},"type":"message","position":{"x":600,"y":450}},{"id":"token-error","data":{"type":"message","label":"Token Error","content":"‚ö†Ô∏è *Connection Error*\n\nService desk authentication error.\n\nPlease contact the IT team:\nüìß it-support@company.com\nüìû Ext: 1234"},"type":"message","position":{"x":200,"y":450}}],"edges":[{"id":"e0","source":"start-1","target":"refresh-token"},{"id":"e0-token","source":"refresh-token","target":"fetch-requester","sourceHandle":"success"},{"id":"e0-token-err","source":"refresh-token","target":"token-error","sourceHandle":"error"},{"id":"e1","source":"fetch-requester","target":"welcome-msg","sourceHandle":"success"},{"id":"e1-err","source":"fetch-requester","target":"requester-error","sourceHandle":"error"},{"id":"e2","source":"welcome-msg","target":"main-menu"},{"id":"e3","source":"main-menu","target":"fetch-categories","sourceHandle":"btn_new"},{"id":"e4","source":"main-menu","target":"fetch-requests","sourceHandle":"btn_list"},{"id":"e5","source":"main-menu","target":"fetch-catalog-categories","sourceHandle":"btn_catalog"},{"id":"e6","source":"fetch-categories","target":"select-category","sourceHandle":"success"},{"id":"e7","source":"fetch-categories","target":"api-general-error","sourceHandle":"error"},{"id":"e8","source":"select-category","target":"ask-subject"},{"id":"e9","source":"ask-subject","target":"ask-description"},{"id":"e10","source":"ask-description","target":"ask-priority"},{"id":"e11","source":"ask-priority","target":"create-ticket"},{"id":"e12","source":"create-ticket","target":"ticket-success","sourceHandle":"success"},{"id":"e13","source":"create-ticket","target":"ticket-error","sourceHandle":"error"},{"id":"e14","source":"ticket-success","target":"ask-continue"},{"id":"e15","source":"ticket-error","target":"ask-continue"},{"id":"e16","source":"fetch-requests","target":"show-requests","sourceHandle":"success"},{"id":"e17","source":"fetch-requests","target":"requests-error","sourceHandle":"error"},{"id":"e18","source":"show-requests","target":"ask-continue"},{"id":"e19","source":"requests-error","target":"ask-continue"},{"id":"e20","source":"fetch-catalog-categories","target":"select-catalog-category","sourceHandle":"success"},{"id":"e21","source":"fetch-catalog-categories","target":"catalog-error","sourceHandle":"error"},{"id":"e22","source":"select-catalog-category","target":"fetch-templates"},{"id":"e23","source":"fetch-templates","target":"select-template","sourceHandle":"success"},{"id":"e24","source":"fetch-templates","target":"template-error","sourceHandle":"error"},{"id":"e25","source":"select-template","target":"ask-create-from-template"},{"id":"e26","source":"ask-create-from-template","target":"ask-catalog-subject","sourceHandle":"btn_create_yes"},{"id":"e27","source":"ask-create-from-template","target":"ask-continue","sourceHandle":"btn_create_no"},{"id":"e28","source":"ask-catalog-subject","target":"ask-catalog-description"},{"id":"e29","source":"ask-catalog-description","target":"create-catalog-ticket"},{"id":"e30","source":"create-catalog-ticket","target":"catalog-ticket-success","sourceHandle":"success"},{"id":"e31","source":"create-catalog-ticket","target":"catalog-ticket-error","sourceHandle":"error"},{"id":"e32","source":"catalog-ticket-success","target":"ask-continue"},{"id":"e33","source":"catalog-ticket-error","target":"ask-continue"},{"id":"e34","source":"template-error","target":"ask-continue"},{"id":"e35","source":"catalog-error","target":"ask-continue"},{"id":"e36","source":"ask-continue","target":"main-menu","sourceHandle":"btn_yes"},{"id":"e37","source":"ask-continue","target":"goodbye-msg","sourceHandle":"btn_no"},{"id":"e38","source":"api-general-error","target":"ask-continue"},{"id":"e39","source":"requester-error","target":"goodbye-msg"},{"id":"e40","source":"token-error","target":"goodbye-msg"}],"isActive":true,"status":"active","metadata":{"author":"Claude","version":"1.5","features":["auto_token_refresh","backend_filtering"],"apiEndpoint":"https://sdpondemand.manageengine.com/api/v3","integration":"ManageEngine ServiceDesk Plus"}}}