{
  "name": "Stok & Fiyat Y√∂netimi",
  "description": "Strapi API entegrasyonlu stok ve fiyat y√∂netimi chatbot'u",
  "isActive": true,
  "status": "active",
  "nodes": [
    {
      "id": "start-1",
      "type": "start",
      "data": {
        "label": "Start",
        "type": "start"
      },
      "position": { "x": 100, "y": 300 }
    },
    {
      "id": "msg-welcome",
      "type": "message",
      "data": {
        "label": "Ho≈ügeldin Mesajƒ±",
        "type": "message",
        "content": "üè™ *Stok & Fiyat Y√∂netim Sistemi*\n\nMerhaba! √úr√ºn stok ve fiyat y√∂netimi i√ßin hazƒ±rƒ±m."
      },
      "position": { "x": 300, "y": 300 }
    },
    {
      "id": "q-main-menu",
      "type": "question",
      "data": {
        "label": "Ana Men√º",
        "type": "question",
        "questionType": "buttons",
        "content": "Yapmak istediƒüiniz i≈ülemi se√ßin:",
        "variable": "main_menu_choice",
        "headerText": "Ana Men√º",
        "footerText": "GardenHaus Y√∂netim Sistemi",
        "buttons": [
          { "id": "stock_update", "title": "üì¶ Stok G√ºncelle" },
          { "id": "price_update", "title": "üí∞ Fiyat G√ºncelle" },
          { "id": "low_stock", "title": "‚ö†Ô∏è D√º≈ü√ºk Stok" }
        ]
      },
      "position": { "x": 500, "y": 300 }
    },
    {
      "id": "q-search-or-menu",
      "type": "question",
      "data": {
        "label": "Arama veya Men√º",
        "type": "question",
        "questionType": "text",
        "content": "SKU veya √ºr√ºn adƒ± ile arama yapmak i√ßin yazƒ±n.\n\nAna men√ºye d√∂nmek i√ßin *menu* yazƒ±n.",
        "variable": "search_input"
      },
      "position": { "x": 500, "y": 450 }
    },
    {
      "id": "cond-check-menu",
      "type": "condition",
      "data": {
        "label": "Menu Kontrol√º",
        "type": "condition",
        "conditionVar": "search_input",
        "conditionOp": "eq",
        "conditionVal": "menu"
      },
      "position": { "x": 700, "y": 450 }
    },
    {
      "id": "api-fetch-categories",
      "type": "rest_api",
      "data": {
        "label": "Kategorileri Getir",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/categories",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "categories",
        "apiResponsePath": "data",
        "apiErrorVariable": "categories_error",
        "apiTimeout": 30000
      },
      "position": { "x": 800, "y": 200 }
    },
    {
      "id": "msg-categories-error",
      "type": "message",
      "data": {
        "label": "Kategori Hatasƒ±",
        "type": "message",
        "content": "‚ùå Kategoriler y√ºklenirken hata olu≈ütu.\n\nHata: {{categories_error}}\n\nL√ºtfen tekrar deneyin."
      },
      "position": { "x": 800, "y": 100 }
    },
    {
      "id": "q-select-category",
      "type": "question",
      "data": {
        "label": "Kategori Se√ß",
        "type": "question",
        "questionType": "list",
        "content": "Stok g√ºncellemek istediƒüiniz √ºr√ºn√ºn kategorisini se√ßin:",
        "variable": "selected_category_slug",
        "listButtonText": "Kategori Se√ß",
        "dynamicListSource": "categories",
        "dynamicLabelField": "name",
        "dynamicDescField": "slug",
        "headerText": "Kategoriler",
        "footerText": "Toplam {{categories.length}} kategori"
      },
      "position": { "x": 1000, "y": 200 }
    },
    {
      "id": "api-fetch-products-by-category",
      "type": "rest_api",
      "data": {
        "label": "Kategoriye G√∂re √úr√ºnler",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products?filters[category][slug][$eq]={{selected_category_slug}}&populate=*",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "products_by_category",
        "apiResponsePath": "data",
        "apiErrorVariable": "products_error",
        "apiTimeout": 30000
      },
      "position": { "x": 1200, "y": 200 }
    },
    {
      "id": "msg-products-error",
      "type": "message",
      "data": {
        "label": "√úr√ºn Hatasƒ±",
        "type": "message",
        "content": "‚ùå √úr√ºnler y√ºklenirken hata olu≈ütu.\n\nHata: {{products_error}}\n\nL√ºtfen tekrar deneyin."
      },
      "position": { "x": 1200, "y": 100 }
    },
    {
      "id": "cond-check-products-empty",
      "type": "condition",
      "data": {
        "label": "√úr√ºn Var mƒ±?",
        "type": "condition",
        "conditionVar": "products_by_category.length",
        "conditionOp": "gt",
        "conditionVal": "0"
      },
      "position": { "x": 1400, "y": 200 }
    },
    {
      "id": "msg-no-products",
      "type": "message",
      "data": {
        "label": "√úr√ºn Yok",
        "type": "message",
        "content": "‚ö†Ô∏è Bu kategoride √ºr√ºn bulunamadƒ±.\n\nFarklƒ± bir kategori se√ßebilir veya ana men√ºye d√∂nebilirsiniz."
      },
      "position": { "x": 1400, "y": 100 }
    },
    {
      "id": "q-select-product",
      "type": "question",
      "data": {
        "label": "√úr√ºn Se√ß",
        "type": "question",
        "questionType": "list",
        "content": "Stok g√ºncellemek istediƒüiniz √ºr√ºn√º se√ßin:",
        "variable": "selected_product_id",
        "listButtonText": "√úr√ºn Se√ß",
        "dynamicListSource": "products_by_category",
        "dynamicLabelField": "name",
        "dynamicDescField": "sku",
        "headerText": "√úr√ºnler",
        "footerText": "Toplam {{products_by_category.length}} √ºr√ºn"
      },
      "position": { "x": 1600, "y": 200 }
    },
    {
      "id": "api-get-product-detail",
      "type": "rest_api",
      "data": {
        "label": "√úr√ºn Detayƒ± Getir",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products/{{selected_product_id}}?populate=*",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "product_detail",
        "apiResponsePath": "data",
        "apiErrorVariable": "detail_error",
        "apiTimeout": 30000
      },
      "position": { "x": 1800, "y": 200 }
    },
    {
      "id": "msg-detail-error",
      "type": "message",
      "data": {
        "label": "Detay Hatasƒ±",
        "type": "message",
        "content": "‚ùå √úr√ºn detaylarƒ± y√ºklenirken hata olu≈ütu.\n\nHata: {{detail_error}}"
      },
      "position": { "x": 1800, "y": 100 }
    },
    {
      "id": "msg-current-stock",
      "type": "message",
      "data": {
        "label": "Mevcut Stok G√∂ster",
        "type": "message",
        "content": "üì¶ *√úr√ºn: {{product_detail.name}}*\nSKU: {{product_detail.sku}}\n\nüìä Mevcut Stok: *{{product_detail.stock}}* adet\nüí∞ Fiyat: {{product_detail.price}} TL"
      },
      "position": { "x": 2000, "y": 200 }
    },
    {
      "id": "q-new-stock",
      "type": "question",
      "data": {
        "label": "Yeni Stok Gir",
        "type": "question",
        "questionType": "text",
        "content": "Yeni stok miktarƒ±nƒ± girin:\n\n(ƒ∞pucu: Sadece rakam girin. √ñrn: 150)",
        "variable": "new_stock_amount"
      },
      "position": { "x": 2200, "y": 200 }
    },
    {
      "id": "cond-validate-stock",
      "type": "condition",
      "data": {
        "label": "Stok Ge√ßerli mi?",
        "type": "condition",
        "conditionVar": "new_stock_amount",
        "conditionOp": "gte",
        "conditionVal": "0"
      },
      "position": { "x": 2400, "y": 200 }
    },
    {
      "id": "msg-invalid-stock",
      "type": "message",
      "data": {
        "label": "Ge√ßersiz Stok",
        "type": "message",
        "content": "‚ùå Ge√ßersiz stok miktarƒ±!\n\nL√ºtfen 0 veya daha b√ºy√ºk bir sayƒ± girin."
      },
      "position": { "x": 2400, "y": 100 }
    },
    {
      "id": "api-update-stock",
      "type": "rest_api",
      "data": {
        "label": "Stok G√ºncelle",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products/{{selected_product_id}}",
        "apiMethod": "PUT",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiBody": "{\"data\": {\"stock\": {{new_stock_amount}}}}",
        "apiOutputVariable": "update_result",
        "apiResponsePath": "data",
        "apiErrorVariable": "update_error",
        "apiTimeout": 30000
      },
      "position": { "x": 2600, "y": 200 }
    },
    {
      "id": "msg-update-error",
      "type": "message",
      "data": {
        "label": "G√ºncelleme Hatasƒ±",
        "type": "message",
        "content": "‚ùå Stok g√ºncellenirken hata olu≈ütu.\n\nHata: {{update_error}}\n\nL√ºtfen tekrar deneyin."
      },
      "position": { "x": 2600, "y": 100 }
    },
    {
      "id": "msg-stock-updated",
      "type": "message",
      "data": {
        "label": "Stok G√ºncellendi",
        "type": "message",
        "content": "‚úÖ *Stok ba≈üarƒ±yla g√ºncellendi!*\n\nüì¶ √úr√ºn: {{product_detail.name}}\nSKU: {{product_detail.sku}}\n\nüìä Eski Stok: {{product_detail.stock}}\nüìä Yeni Stok: *{{new_stock_amount}}*\n\nƒ∞≈ülem tamamlandƒ±."
      },
      "position": { "x": 2800, "y": 200 }
    },
    {
      "id": "api-fetch-brands",
      "type": "rest_api",
      "data": {
        "label": "Markalarƒ± Getir",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/brands",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "brands",
        "apiResponsePath": "data",
        "apiErrorVariable": "brands_error",
        "apiTimeout": 30000
      },
      "position": { "x": 800, "y": 500 }
    },
    {
      "id": "msg-brands-error",
      "type": "message",
      "data": {
        "label": "Marka Hatasƒ±",
        "type": "message",
        "content": "‚ùå Markalar y√ºklenirken hata olu≈ütu.\n\nHata: {{brands_error}}\n\nL√ºtfen tekrar deneyin."
      },
      "position": { "x": 800, "y": 400 }
    },
    {
      "id": "q-select-brand",
      "type": "question",
      "data": {
        "label": "Marka Se√ß",
        "type": "question",
        "questionType": "list",
        "content": "Fiyat g√ºncellemek istediƒüiniz √ºr√ºn√ºn markasƒ±nƒ± se√ßin:",
        "variable": "selected_brand_slug",
        "listButtonText": "Marka Se√ß",
        "dynamicListSource": "brands",
        "dynamicLabelField": "name",
        "dynamicDescField": "slug",
        "headerText": "Markalar",
        "footerText": "Toplam {{brands.length}} marka"
      },
      "position": { "x": 1000, "y": 500 }
    },
    {
      "id": "api-fetch-products-by-brand",
      "type": "rest_api",
      "data": {
        "label": "Markaya G√∂re √úr√ºnler",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products?filters[brand][slug][$eq]={{selected_brand_slug}}&populate=*",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "products_by_brand",
        "apiResponsePath": "data",
        "apiErrorVariable": "brand_products_error",
        "apiTimeout": 30000
      },
      "position": { "x": 1200, "y": 500 }
    },
    {
      "id": "msg-brand-products-error",
      "type": "message",
      "data": {
        "label": "Marka √úr√ºn Hatasƒ±",
        "type": "message",
        "content": "‚ùå Marka √ºr√ºnleri y√ºklenirken hata olu≈ütu.\n\nHata: {{brand_products_error}}"
      },
      "position": { "x": 1200, "y": 400 }
    },
    {
      "id": "cond-check-brand-products-empty",
      "type": "condition",
      "data": {
        "label": "Marka √úr√ºn√º Var mƒ±?",
        "type": "condition",
        "conditionVar": "products_by_brand.length",
        "conditionOp": "gt",
        "conditionVal": "0"
      },
      "position": { "x": 1400, "y": 500 }
    },
    {
      "id": "msg-no-brand-products",
      "type": "message",
      "data": {
        "label": "Marka √úr√ºn Yok",
        "type": "message",
        "content": "‚ö†Ô∏è Bu markada √ºr√ºn bulunamadƒ±.\n\nFarklƒ± bir marka se√ßebilirsiniz."
      },
      "position": { "x": 1400, "y": 400 }
    },
    {
      "id": "q-select-brand-product",
      "type": "question",
      "data": {
        "label": "Marka √úr√ºn Se√ß",
        "type": "question",
        "questionType": "list",
        "content": "Fiyat g√ºncellemek istediƒüiniz √ºr√ºn√º se√ßin:",
        "variable": "selected_brand_product_id",
        "listButtonText": "√úr√ºn Se√ß",
        "dynamicListSource": "products_by_brand",
        "dynamicLabelField": "name",
        "dynamicDescField": "sku",
        "headerText": "√úr√ºnler",
        "footerText": "Toplam {{products_by_brand.length}} √ºr√ºn"
      },
      "position": { "x": 1600, "y": 500 }
    },
    {
      "id": "api-get-brand-product-detail",
      "type": "rest_api",
      "data": {
        "label": "Marka √úr√ºn Detayƒ±",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products/{{selected_brand_product_id}}?populate=*",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "brand_product_detail",
        "apiResponsePath": "data",
        "apiErrorVariable": "brand_detail_error",
        "apiTimeout": 30000
      },
      "position": { "x": 1800, "y": 500 }
    },
    {
      "id": "msg-brand-detail-error",
      "type": "message",
      "data": {
        "label": "Marka Detay Hatasƒ±",
        "type": "message",
        "content": "‚ùå √úr√ºn detaylarƒ± y√ºklenirken hata olu≈ütu.\n\nHata: {{brand_detail_error}}"
      },
      "position": { "x": 1800, "y": 400 }
    },
    {
      "id": "msg-current-price",
      "type": "message",
      "data": {
        "label": "Mevcut Fiyat G√∂ster",
        "type": "message",
        "content": "üí∞ *√úr√ºn: {{brand_product_detail.name}}*\nSKU: {{brand_product_detail.sku}}\n\nüíµ Mevcut Fiyat: *{{brand_product_detail.price}} TL*\nüìä Stok: {{brand_product_detail.stock}} adet"
      },
      "position": { "x": 2000, "y": 500 }
    },
    {
      "id": "q-new-price",
      "type": "question",
      "data": {
        "label": "Yeni Fiyat Gir",
        "type": "question",
        "questionType": "text",
        "content": "Yeni fiyatƒ± girin:\n\n(ƒ∞pucu: Ondalƒ±k sayƒ± i√ßin nokta kullanƒ±n. √ñrn: 149.99)",
        "variable": "new_price_amount"
      },
      "position": { "x": 2200, "y": 500 }
    },
    {
      "id": "cond-validate-price",
      "type": "condition",
      "data": {
        "label": "Fiyat Ge√ßerli mi?",
        "type": "condition",
        "conditionVar": "new_price_amount",
        "conditionOp": "gt",
        "conditionVal": "0"
      },
      "position": { "x": 2400, "y": 500 }
    },
    {
      "id": "msg-invalid-price",
      "type": "message",
      "data": {
        "label": "Ge√ßersiz Fiyat",
        "type": "message",
        "content": "‚ùå Ge√ßersiz fiyat!\n\nL√ºtfen 0'dan b√ºy√ºk bir fiyat girin."
      },
      "position": { "x": 2400, "y": 400 }
    },
    {
      "id": "api-update-price",
      "type": "rest_api",
      "data": {
        "label": "Fiyat G√ºncelle",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products/{{selected_brand_product_id}}",
        "apiMethod": "PUT",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiBody": "{\"data\": {\"price\": {{new_price_amount}}}}",
        "apiOutputVariable": "price_update_result",
        "apiResponsePath": "data",
        "apiErrorVariable": "price_update_error",
        "apiTimeout": 30000
      },
      "position": { "x": 2600, "y": 500 }
    },
    {
      "id": "msg-price-update-error",
      "type": "message",
      "data": {
        "label": "Fiyat G√ºncelleme Hatasƒ±",
        "type": "message",
        "content": "‚ùå Fiyat g√ºncellenirken hata olu≈ütu.\n\nHata: {{price_update_error}}"
      },
      "position": { "x": 2600, "y": 400 }
    },
    {
      "id": "msg-price-updated",
      "type": "message",
      "data": {
        "label": "Fiyat G√ºncellendi",
        "type": "message",
        "content": "‚úÖ *Fiyat ba≈üarƒ±yla g√ºncellendi!*\n\nüí∞ √úr√ºn: {{brand_product_detail.name}}\nSKU: {{brand_product_detail.sku}}\n\nüíµ Eski Fiyat: {{brand_product_detail.price}} TL\nüíµ Yeni Fiyat: *{{new_price_amount}} TL*\n\nƒ∞≈ülem tamamlandƒ±."
      },
      "position": { "x": 2800, "y": 500 }
    },
    {
      "id": "api-fetch-low-stock",
      "type": "rest_api",
      "data": {
        "label": "D√º≈ü√ºk Stok Getir",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products?filters[stock][$lt]=10&populate=*",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "low_stock_products",
        "apiResponsePath": "data",
        "apiErrorVariable": "low_stock_error",
        "apiTimeout": 30000
      },
      "position": { "x": 800, "y": 800 }
    },
    {
      "id": "msg-low-stock-error",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok Hatasƒ±",
        "type": "message",
        "content": "‚ùå D√º≈ü√ºk stok raporu alƒ±nƒ±rken hata olu≈ütu.\n\nHata: {{low_stock_error}}"
      },
      "position": { "x": 800, "y": 700 }
    },
    {
      "id": "cond-check-low-stock-empty",
      "type": "condition",
      "data": {
        "label": "D√º≈ü√ºk Stok Var mƒ±?",
        "type": "condition",
        "conditionVar": "low_stock_products.length",
        "conditionOp": "gt",
        "conditionVal": "0"
      },
      "position": { "x": 1000, "y": 800 }
    },
    {
      "id": "msg-no-low-stock",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok Yok",
        "type": "message",
        "content": "‚úÖ *Harika haber!*\n\nStoƒüu 10'un altƒ±nda olan √ºr√ºn bulunmuyor.\n\nT√ºm √ºr√ºnler yeterli stokta."
      },
      "position": { "x": 1000, "y": 700 }
    },
    {
      "id": "msg-low-stock-list",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok Listesi",
        "type": "message",
        "content": "‚ö†Ô∏è *D√º≈ü√ºk Stok Raporu*\n\nStoƒüu 10'un altƒ±nda olan √ºr√ºnler:\n\n{{low_stock_products}}\n\nToplam: {{low_stock_products.length}} √ºr√ºn"
      },
      "position": { "x": 1200, "y": 800 }
    },
    {
      "id": "q-low-stock-action",
      "type": "question",
      "data": {
        "label": "D√º≈ü√ºk Stok ƒ∞≈ülem",
        "type": "question",
        "questionType": "buttons",
        "content": "Ne yapmak istersiniz?",
        "variable": "low_stock_action",
        "buttons": [
          { "id": "update_low_stock", "title": "Stok G√ºncelle" },
          { "id": "back_to_menu", "title": "Ana Men√º" }
        ]
      },
      "position": { "x": 1400, "y": 800 }
    },
    {
      "id": "q-select-low-stock-product",
      "type": "question",
      "data": {
        "label": "D√º≈ü√ºk Stok √úr√ºn Se√ß",
        "type": "question",
        "questionType": "list",
        "content": "Stok g√ºncellemek istediƒüiniz √ºr√ºn√º se√ßin:",
        "variable": "selected_low_stock_product_id",
        "listButtonText": "√úr√ºn Se√ß",
        "dynamicListSource": "low_stock_products",
        "dynamicLabelField": "name",
        "dynamicDescField": "sku",
        "headerText": "D√º≈ü√ºk Stoklu √úr√ºnler"
      },
      "position": { "x": 1600, "y": 800 }
    },
    {
      "id": "api-get-low-stock-detail",
      "type": "rest_api",
      "data": {
        "label": "D√º≈ü√ºk Stok Detay",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products/{{selected_low_stock_product_id}}?populate=*",
        "apiMethod": "GET",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiOutputVariable": "low_stock_detail",
        "apiResponsePath": "data",
        "apiErrorVariable": "low_stock_detail_error",
        "apiTimeout": 30000
      },
      "position": { "x": 1800, "y": 800 }
    },
    {
      "id": "msg-low-stock-detail-error",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok Detay Hatasƒ±",
        "type": "message",
        "content": "‚ùå √úr√ºn detaylarƒ± y√ºklenirken hata olu≈ütu.\n\nHata: {{low_stock_detail_error}}"
      },
      "position": { "x": 1800, "y": 700 }
    },
    {
      "id": "msg-low-stock-current",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok Mevcut",
        "type": "message",
        "content": "‚ö†Ô∏è *√úr√ºn: {{low_stock_detail.name}}*\nSKU: {{low_stock_detail.sku}}\n\nüìä Mevcut Stok: *{{low_stock_detail.stock}}* adet\nüí∞ Fiyat: {{low_stock_detail.price}} TL\n\n*Dƒ∞KKAT: Stok seviyesi d√º≈ü√ºk!*"
      },
      "position": { "x": 2000, "y": 800 }
    },
    {
      "id": "q-new-low-stock",
      "type": "question",
      "data": {
        "label": "Yeni D√º≈ü√ºk Stok",
        "type": "question",
        "questionType": "text",
        "content": "Yeni stok miktarƒ±nƒ± girin:",
        "variable": "new_low_stock_amount"
      },
      "position": { "x": 2200, "y": 800 }
    },
    {
      "id": "api-update-low-stock",
      "type": "rest_api",
      "data": {
        "label": "D√º≈ü√ºk Stok G√ºncelle",
        "type": "rest_api",
        "apiUrl": "https://gardenhausapi.sipsy.ai/api/products/{{selected_low_stock_product_id}}",
        "apiMethod": "PUT",
        "apiHeaders": {
          "Authorization": "Bearer b1653f8a6740702305117a40d274b208ad2549f123f5ad712e5d9d1314379ebda123c95031d88645ca1225823ba62c6ad10371c8ce15ac605ee6ab17435f82f22f60e7164d4bbf11e018b3353dd239153d98a86008fca0ce74c3766eba0e0af3e17acc7fa4469e939b384146ec1bf0efca1f5f45cf07203be5b5f3f9703a67dd",
          "Content-Type": "application/json"
        },
        "apiBody": "{\"data\": {\"stock\": {{new_low_stock_amount}}}}",
        "apiOutputVariable": "low_stock_update_result",
        "apiResponsePath": "data",
        "apiErrorVariable": "low_stock_update_error",
        "apiTimeout": 30000
      },
      "position": { "x": 2400, "y": 800 }
    },
    {
      "id": "msg-low-stock-update-error",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok G√ºncelleme Hatasƒ±",
        "type": "message",
        "content": "‚ùå Stok g√ºncellenirken hata olu≈ütu.\n\nHata: {{low_stock_update_error}}"
      },
      "position": { "x": 2400, "y": 700 }
    },
    {
      "id": "msg-low-stock-updated",
      "type": "message",
      "data": {
        "label": "D√º≈ü√ºk Stok G√ºncellendi",
        "type": "message",
        "content": "‚úÖ *Stok ba≈üarƒ±yla g√ºncellendi!*\n\nüì¶ √úr√ºn: {{low_stock_detail.name}}\n\nüìä Eski Stok: {{low_stock_detail.stock}}\nüìä Yeni Stok: *{{new_low_stock_amount}}*"
      },
      "position": { "x": 2600, "y": 800 }
    },
    {
      "id": "q-continue",
      "type": "question",
      "data": {
        "label": "Devam Et",
        "type": "question",
        "questionType": "buttons",
        "content": "Ba≈üka bir i≈ülem yapmak ister misiniz?",
        "variable": "continue_choice",
        "buttons": [
          { "id": "yes_continue", "title": "Evet" },
          { "id": "no_exit", "title": "Hayƒ±r, √áƒ±kƒ±≈ü" }
        ]
      },
      "position": { "x": 3000, "y": 300 }
    },
    {
      "id": "msg-goodbye",
      "type": "message",
      "data": {
        "label": "Ho≈ü√ßa Kal",
        "type": "message",
        "content": "üëã G√∂r√º≈ümek √ºzere!\n\n*GardenHaus Stok Y√∂netim Sistemi*\n\nYeniden ba≈ülatmak i√ßin herhangi bir mesaj g√∂nderin."
      },
      "position": { "x": 3200, "y": 400 }
    }
  ],
  "edges": [
    {
      "id": "e-start-welcome",
      "source": "start-1",
      "target": "msg-welcome"
    },
    {
      "id": "e-welcome-menu",
      "source": "msg-welcome",
      "target": "q-main-menu"
    },
    {
      "id": "e-menu-stock",
      "source": "q-main-menu",
      "target": "api-fetch-categories",
      "sourceHandle": "stock_update"
    },
    {
      "id": "e-menu-price",
      "source": "q-main-menu",
      "target": "api-fetch-brands",
      "sourceHandle": "price_update"
    },
    {
      "id": "e-menu-lowstock",
      "source": "q-main-menu",
      "target": "api-fetch-low-stock",
      "sourceHandle": "low_stock"
    },
    {
      "id": "e-menu-default",
      "source": "q-main-menu",
      "target": "q-search-or-menu",
      "sourceHandle": "default"
    },
    {
      "id": "e-search-check",
      "source": "q-search-or-menu",
      "target": "cond-check-menu"
    },
    {
      "id": "e-check-menu-true",
      "source": "cond-check-menu",
      "target": "q-main-menu",
      "sourceHandle": "true"
    },
    {
      "id": "e-categories-success",
      "source": "api-fetch-categories",
      "target": "q-select-category",
      "sourceHandle": "success"
    },
    {
      "id": "e-categories-error",
      "source": "api-fetch-categories",
      "target": "msg-categories-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-categories-error-menu",
      "source": "msg-categories-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-category-products",
      "source": "q-select-category",
      "target": "api-fetch-products-by-category"
    },
    {
      "id": "e-products-success",
      "source": "api-fetch-products-by-category",
      "target": "cond-check-products-empty",
      "sourceHandle": "success"
    },
    {
      "id": "e-products-error",
      "source": "api-fetch-products-by-category",
      "target": "msg-products-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-products-error-menu",
      "source": "msg-products-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-products-empty-false",
      "source": "cond-check-products-empty",
      "target": "msg-no-products",
      "sourceHandle": "false"
    },
    {
      "id": "e-no-products-menu",
      "source": "msg-no-products",
      "target": "q-main-menu"
    },
    {
      "id": "e-products-empty-true",
      "source": "cond-check-products-empty",
      "target": "q-select-product",
      "sourceHandle": "true"
    },
    {
      "id": "e-product-detail",
      "source": "q-select-product",
      "target": "api-get-product-detail"
    },
    {
      "id": "e-detail-success",
      "source": "api-get-product-detail",
      "target": "msg-current-stock",
      "sourceHandle": "success"
    },
    {
      "id": "e-detail-error",
      "source": "api-get-product-detail",
      "target": "msg-detail-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-detail-error-menu",
      "source": "msg-detail-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-current-stock-new",
      "source": "msg-current-stock",
      "target": "q-new-stock"
    },
    {
      "id": "e-new-stock-validate",
      "source": "q-new-stock",
      "target": "cond-validate-stock"
    },
    {
      "id": "e-validate-stock-false",
      "source": "cond-validate-stock",
      "target": "msg-invalid-stock",
      "sourceHandle": "false"
    },
    {
      "id": "e-invalid-stock-retry",
      "source": "msg-invalid-stock",
      "target": "q-new-stock"
    },
    {
      "id": "e-validate-stock-true",
      "source": "cond-validate-stock",
      "target": "api-update-stock",
      "sourceHandle": "true"
    },
    {
      "id": "e-update-stock-success",
      "source": "api-update-stock",
      "target": "msg-stock-updated",
      "sourceHandle": "success"
    },
    {
      "id": "e-update-stock-error",
      "source": "api-update-stock",
      "target": "msg-update-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-update-error-menu",
      "source": "msg-update-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-stock-updated-continue",
      "source": "msg-stock-updated",
      "target": "q-continue"
    },
    {
      "id": "e-brands-success",
      "source": "api-fetch-brands",
      "target": "q-select-brand",
      "sourceHandle": "success"
    },
    {
      "id": "e-brands-error",
      "source": "api-fetch-brands",
      "target": "msg-brands-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-brands-error-menu",
      "source": "msg-brands-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-brand-products",
      "source": "q-select-brand",
      "target": "api-fetch-products-by-brand"
    },
    {
      "id": "e-brand-products-success",
      "source": "api-fetch-products-by-brand",
      "target": "cond-check-brand-products-empty",
      "sourceHandle": "success"
    },
    {
      "id": "e-brand-products-error",
      "source": "api-fetch-products-by-brand",
      "target": "msg-brand-products-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-brand-products-error-menu",
      "source": "msg-brand-products-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-brand-products-empty-false",
      "source": "cond-check-brand-products-empty",
      "target": "msg-no-brand-products",
      "sourceHandle": "false"
    },
    {
      "id": "e-no-brand-products-menu",
      "source": "msg-no-brand-products",
      "target": "q-main-menu"
    },
    {
      "id": "e-brand-products-empty-true",
      "source": "cond-check-brand-products-empty",
      "target": "q-select-brand-product",
      "sourceHandle": "true"
    },
    {
      "id": "e-brand-product-detail",
      "source": "q-select-brand-product",
      "target": "api-get-brand-product-detail"
    },
    {
      "id": "e-brand-detail-success",
      "source": "api-get-brand-product-detail",
      "target": "msg-current-price",
      "sourceHandle": "success"
    },
    {
      "id": "e-brand-detail-error",
      "source": "api-get-brand-product-detail",
      "target": "msg-brand-detail-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-brand-detail-error-menu",
      "source": "msg-brand-detail-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-current-price-new",
      "source": "msg-current-price",
      "target": "q-new-price"
    },
    {
      "id": "e-new-price-validate",
      "source": "q-new-price",
      "target": "cond-validate-price"
    },
    {
      "id": "e-validate-price-false",
      "source": "cond-validate-price",
      "target": "msg-invalid-price",
      "sourceHandle": "false"
    },
    {
      "id": "e-invalid-price-retry",
      "source": "msg-invalid-price",
      "target": "q-new-price"
    },
    {
      "id": "e-validate-price-true",
      "source": "cond-validate-price",
      "target": "api-update-price",
      "sourceHandle": "true"
    },
    {
      "id": "e-update-price-success",
      "source": "api-update-price",
      "target": "msg-price-updated",
      "sourceHandle": "success"
    },
    {
      "id": "e-update-price-error",
      "source": "api-update-price",
      "target": "msg-price-update-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-price-update-error-menu",
      "source": "msg-price-update-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-price-updated-continue",
      "source": "msg-price-updated",
      "target": "q-continue"
    },
    {
      "id": "e-low-stock-success",
      "source": "api-fetch-low-stock",
      "target": "cond-check-low-stock-empty",
      "sourceHandle": "success"
    },
    {
      "id": "e-low-stock-error",
      "source": "api-fetch-low-stock",
      "target": "msg-low-stock-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-low-stock-error-menu",
      "source": "msg-low-stock-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-low-stock-empty-false",
      "source": "cond-check-low-stock-empty",
      "target": "msg-no-low-stock",
      "sourceHandle": "false"
    },
    {
      "id": "e-no-low-stock-menu",
      "source": "msg-no-low-stock",
      "target": "q-main-menu"
    },
    {
      "id": "e-low-stock-empty-true",
      "source": "cond-check-low-stock-empty",
      "target": "msg-low-stock-list",
      "sourceHandle": "true"
    },
    {
      "id": "e-low-stock-list-action",
      "source": "msg-low-stock-list",
      "target": "q-low-stock-action"
    },
    {
      "id": "e-low-stock-action-update",
      "source": "q-low-stock-action",
      "target": "q-select-low-stock-product",
      "sourceHandle": "update_low_stock"
    },
    {
      "id": "e-low-stock-action-menu",
      "source": "q-low-stock-action",
      "target": "q-main-menu",
      "sourceHandle": "back_to_menu"
    },
    {
      "id": "e-low-stock-product-detail",
      "source": "q-select-low-stock-product",
      "target": "api-get-low-stock-detail"
    },
    {
      "id": "e-low-stock-detail-success",
      "source": "api-get-low-stock-detail",
      "target": "msg-low-stock-current",
      "sourceHandle": "success"
    },
    {
      "id": "e-low-stock-detail-error",
      "source": "api-get-low-stock-detail",
      "target": "msg-low-stock-detail-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-low-stock-detail-error-menu",
      "source": "msg-low-stock-detail-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-low-stock-current-new",
      "source": "msg-low-stock-current",
      "target": "q-new-low-stock"
    },
    {
      "id": "e-new-low-stock-update",
      "source": "q-new-low-stock",
      "target": "api-update-low-stock"
    },
    {
      "id": "e-update-low-stock-success",
      "source": "api-update-low-stock",
      "target": "msg-low-stock-updated",
      "sourceHandle": "success"
    },
    {
      "id": "e-update-low-stock-error",
      "source": "api-update-low-stock",
      "target": "msg-low-stock-update-error",
      "sourceHandle": "error"
    },
    {
      "id": "e-low-stock-update-error-menu",
      "source": "msg-low-stock-update-error",
      "target": "q-main-menu"
    },
    {
      "id": "e-low-stock-updated-continue",
      "source": "msg-low-stock-updated",
      "target": "q-continue"
    },
    {
      "id": "e-continue-yes",
      "source": "q-continue",
      "target": "q-main-menu",
      "sourceHandle": "yes_continue"
    },
    {
      "id": "e-continue-no",
      "source": "q-continue",
      "target": "msg-goodbye",
      "sourceHandle": "no_exit"
    }
  ]
}
